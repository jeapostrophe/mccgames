-- title:Ruby Quest
-- author:lala fairys
-- desc:   Go on a magical quest to find the ruby and save your kingdom!
-- script: lua
DEBUG=false

function randelem(t)
 return t[math.random(#t)]
end

scene=nil

function TIC()
 scene()
end

rooms={}

roomn=nil
room=nil

player={spr=256} -- *** change later

amobs=nil
m_fduck={spr=272,a=2,d=1}
m_gobln={spr=274,a=2,d=1}
m_dragn={spr=290,a=1,d=2}
m_ljell={spr=278,a=2,d=1}
function mob_init(k,x,y)
 return {k=k,x=x,y=y,ca=0,at=0,mt=0}
end

function start_game() 
 scene=sc_explore
 enter_room(1,1)
end

function enter_room(rn,en)
 roomn=rn
 room=rooms[rn]
	ent=room.ent[en]
	player.x=ent.px-room.mx
	player.y=ent.py-room.my
	
	amobs={}
	local m=room.mobs
	if m then
 	for i=1,m.c do
		 local mx=m.x+math.random(m.w)-1
			      my=m.y+math.random(m.h)-1
			amobs[#amobs+1]=mob_init(randelem(m.k),mx,my)
		end
	end
end

function sc_explore_mob(m)
 local mx=(m.x-room.mx)*8
	local my=(m.y-room.my)*8
	local k=m.k
	spr(k.spr+m.ca,mx,my,0,1,0,0,k.d,k.d)

 if m.mt == 0 then
	 local dx=math.random(3)-2
	 local dy=math.random(3)-2
		local nx=m.x+dx
		local ny=m.y+dy
		if not fget(mget(nx,ny),0) then
		 m.x=nx
			m.y=ny
		end
	 m.mt=30
	else
	 m.mt=m.mt-1
	end
	
 if m.at == 0 then
  m.ca=(m.ca+1)%k.a
		m.at=15
	else
  m.at=m.at-1
	end
end
function sc_explore()
	cls(0)
	map(room.mx,room.my)
	if DEBUG then print("ROOM #"..roomn) end
	p=player
	spr(p.spr,p.x*8,p.y*8,0)
	
	for mi,m in pairs(amobs) do
	 sc_explore_mob(m)
 end 
	
	function move(dx,dy)
	 nx=p.x+dx
		ny=p.y+dy
		mnx=room.mx+nx
		mny=room.my+ny
		if room.ext then
		for ei,e in ipairs(room.ext) do
		 if mnx==e.x and mny==e.y then
			 enter_room(e.r,e.e)
				return
			end
		end
		end
		if not fget(mget(mnx,mny),0) then
		 p.x=nx
			p.y=ny
			return
		end
		--- XXX add a bump sound
	end
	if btnp(0,1,10) then move(0,-1) end
	if btnp(1,1,10) then move(0,1) end
	if btnp(2,1,10) then move(-1,0) end
	if btnp(3,1,10) then move(1,0) end
end

rooms[1]=
 { mx=0
 , my=0
	, ent={[1]={ px=1
	           , py=2}
							,[2]={ px=29
							     , py=15}
							,[3]={ px=1
							     , py=16} }
	, ext={[1]={ x=29
	           , y=15
												, r=2
												, e=1 }
							,[2]={ x=1
							     , y=16
												, r=9
												, e=1 } }
 ,	mobs={x=1, y=7, w=27, h=8, c=6
	       ,k={m_fduck, m_ljell} } }

rooms[2]=
 { mx=30
 , my=0
	, ent={[1]={ px=30
	           , py=15 }
							,[2]={ px=59
							     , py=14 } }
	, ext={[1]={ x=30
	           , y=15
												, r=1
												, e=2 }
							,[2]={ x=59
							     , y=14
												, r=3
												, e=1 } }
 ,	mobs={x=31, y=11, w=28, h=5, c=7
	       ,k={m_fduck} } }

rooms[3]=
 { mx=60
 , my=0
	, ent={[1]={ px=60
	           , py=14 }
							,[2]={ px=89
							     , py=8 } }
	, ext={[1]={ x=60
	           , y=14
												, r=2
												, e=2 }
							,[2]={ x=89
							     , y=8
												, r=4
												, e=1 } } }

rooms[4]=
 { mx=90
 , my=0
	, ent={[1]={ px=90
	           , py=8 }
							,[2]={ px=119
							     , py=7 } }
	, ext={[1]={ x=90
	           , y=8
												, r=3
												, e=2 }
							,[2]={ x=119
							     , y=7
												, r=5
												, e=1 } } }

rooms[5]=
 { mx=120
 , my=0
	, ent={[1]={ px=120
	           , py=7 } }
	, ext={[1]={ x=120
	           , y=7
												, r=4
												, e=2 } } }

rooms[9]=
 { mx=0
 , my=17
	, ent={[1]={ px=1
	           , py=17 } }
	, ext={[1]={ x=1
	           , y=17
												, r=1
												, e=3 }
							,[2]={ x=29
							     , y=23
												, r=10
												, e=1 } }
 ,	mobs={x=8, y=17, w=18, h=15, c=8
	       ,k={m_gobln} } }

rooms[10]=
 { mx=30
 , my=17
	, ent={[1]={ px=30
	           , py=23 }
							,[2]={ px=59
							     , py=23 } }
	, ext={[1]={ x=30
	           , y=23
												, r=9
												, e=2 }
							,[2]={ x=59
							     , y=23
												, r=11
												, e=1 } } }

rooms[11]=
 { mx=60
 , my=17
	, ent={[1]={ px=60
	           , py=23 }
							,[2]={ px=89 
							     , py=93 } }
	, ext={[1]={ x=60
	           , y=23
												, r=10
												, e=2 }
							,[2]={ x=89
							     , y=23
												, r=12
												, e=1 } }
 ,	mobs={x=70, y=22, w=1, h=1, c=1
	       ,k={m_dragn} } }
												
rooms[12]=
 { mx=90
 , my=17
	, ent={[1]={ px=90
	           , py=23 } }
	, ext={[1]={ x=90
	           , y=23
												, r=11
												, e=2 }
							,[2]={ x=113
							     , y=23
												, r=13
												, e=1 } } }
rooms[13]=
 { mx=120
 , my=17
	, ent={[1]={ px=135
	           , py=31 } }
	, ext={} } 



start_game()

-- <TILES>
-- 001:ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
-- 002:8888888888888888888888888888888888888888888888888888888888888888
-- 003:4444444444444444444444444444444444444444444444444444444444444444
-- 004:aaaaaaababaaaaaaaaaabaaabbaabbaabaaaabbabbaaaaaaaaaaaaaaabaaabaa
-- 005:4444444444444414444441114444511141144555111144441111544455554444
-- 006:2222222222122222212122222222212222221212221222222121222222222222
-- 007:1616161611111111222222221121121122222222211221126666666666666666
-- 008:116126112d611c1266666666216116161161661266d666661661161121621416
-- 009:6666666666111d66611111c66121211d6122121661fd111671d6111767776776
-- 010:6666666667666666676666766766667666666676666766666667666666666666
-- 011:66777766677777766777777666777766666ee666666ee666666ee666666ee666
-- 012:6666666676766616767661116666611161166666111167661111677666666676
-- 013:666666666636666663f36666663666666666636663663f363f36636663666666
-- 014:6666666666d666666dfd666666d6666666666d666d66dfd6dfd66d666d666666
-- 015:eeeee1eeeeeeee1e11111111eeeeee1eeeeee1ee666ee666666ee666666ee666
-- 016:6666666666ffff666fff33f66ffff3f66ffffff66ffffff666ffff6666666666
-- 017:1111111111ffff111fff33f11ffff3f11ffffff11ffffff111ffff1111111111
-- 018:8888888888ffff888fff33f88ffff3f88ffffff88ffffff888ffff8888888888
-- 019:6666666666cccc666cdd33c6cdddd3dc6cddddc666cddc66666cc66666666666
-- 020:111ee1111120321112000321200000022aa00aa22ddaadd212dddd2111222211
-- 021:666ee6666620326662000326200000022aa00aa22ddaadd262dddd2666222266
-- 022:888ee8888820328882000328200000022aa00aa22ddaadd282dddd2888222288
-- 023:66a666c6d6668666664666668666b696eeeeeeee666ee666666ee666666ee666
-- 024:666666666686666668f86666668666666666686668668f868f86686668666666
-- 025:6666666666b666666bfb666666b6666666666b666b66bfb6bfb66b666b666666
-- 026:666666666656666665f56666665666666666656665665f565f56656665666666
-- 027:6666666666c666666cfc666666c6666666666c666c66cfc6cfc66c666c666666
-- 028:6666666676666666766666116661611166611111661111116111111161111111
-- 029:6666666666666666116666661111666611116666111111111111111111111111
-- 030:6666766676667766766667767666667666666666111166661111116611111111
-- 031:6666666666666666666676666666766666667666666776666666766611666666
-- 032:efeeeefeefeeeefeefeeeefefff22fffefe22efeefeeeefeefeeeefeefeeeefe
-- 033:1111111111111111111111111111111111111111111111111111111111111111
-- 034:2222222222eeee222eeeeee2feeeeee22eeeefe22eeee2e2feeeeee22eeeeee2
-- 035:6766766666667667332676673122222620212126222616161117666766676667
-- 036:9999999996999999969999999699996999969969999699999996999999999999
-- 037:eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee
-- 038:4444444444444444466666646666666646666666666666664666666644666664
-- 039:444fff444ddfffdd46ddddd4666ddd6646666666666666664666666644666664
-- 040:4444444444444444444444114441411144411111441111114111111141111111
-- 041:4444444444444444114444441111444411114444111111111111111111111111
-- 042:4444444444444444444444444444444444411111111111111111111111111111
-- 043:4444444444444444444444444444444414444444114444441144444411444444
-- 044:6111111161111111111111111111111111111111611111116111111161111111
-- 045:1111111111111111111111111111111111111111111111111111111111111111
-- 046:1111111111111111111111111111111111111111111111111111111111111111
-- 047:1116666611116666111166661111666611116676111166771111666711116667
-- 048:5f5555f55f5555f55f5555f5ffffffff5f5ff5f55f5555f55f5555f55f5555f5
-- 049:66666666666996666669966666999966669999666999999669999996666ee666
-- 050:6666666669666666696666966966669666666696666966666669666666666666
-- 051:666666666e666e666e6ee6e666e6ee666e6ee6e6666ee666666ee666666ee666
-- 052:6666666669661169696611196661111966111116611111116111111166666666
-- 053:6666666667666666676666766766667666666676666766666667666666666666
-- 054:66777766677777766777777666777766666ee666666ee666666ee666666ee666
-- 055:ffffeeeeffefeeeeffffeeeeffeeeeeeffffeeeefeffeeeeffeeeeeeffffeeee
-- 056:4111111141111111111111111111111111111111411111114111111141111111
-- 057:1111111111111111111111111111111111111111111111111111111111111111
-- 058:1111111111111111111111111111111111111111111111111111111111111111
-- 059:1114444411114444111144441111444411114444111144441111444411114444
-- 060:1111111111111111111111111111111111111111111111111111111111111111
-- 061:1111111111111111111111111111111111111111111111111111111111111111
-- 062:1111111111111111111111111111111111111111111111111111111111111111
-- 063:1111666611166666111666661166666611666666116666661166666616666666
-- 064:6666666666666666666666666661111166612222666121116661212266612122
-- 065:6666666666666666666666661111111122222222111111112222222222222222
-- 066:6666666666666666666666661111166622221666111216662212166622121666
-- 067:2222222222222222222222222222222222222222222222222222222222222222
-- 068:6666666666111166611111166121211661221216611111166111111666666666
-- 069:6661166666111166666116666661166666111166661211666611116666666666
-- 070:aaaaaaababaaaaaaaaaabaaabbaabbaabaaaabbabbaaaaaaaaaaaaaaabaaabaa
-- 071:666616116611dc12666126666666761666662612666216666622a61166661416
-- 072:1111111111111111111111111111111111111111111111111111111111111111
-- 073:1111111111111111111111111111111111111111111111111111111111111111
-- 074:1111111111111111111111111111111111111111111111111111111111111111
-- 075:1111444411144444111444441144444411444444114444441144444414444444
-- 076:1111111111111111111111111111111166111111666111117666111176666666
-- 077:1111111111111111111111111111111111111111111111111666667666666677
-- 078:1111111111111111111111111111111111111111111111166666666666666666
-- 079:1666666616666666166667661666766666667666666676666666666666666666
-- 080:6661212266612122666121116661222266611111666666666666666666666666
-- 081:2222222222222222111111112222222211111111222222221111111166666666
-- 082:2212166622121666111216662222166611111666666666666666666666666666
-- 083:2222222222211222221111222211112222211222222112222331133222222222
-- 084:6666666661222166122122161211121612212216122122161222221666666666
-- 087:116126192d611c91666669662161916611696666669166661966166691666666
-- 088:1111111111111111111111111111111144111111444111114444111144444444
-- 089:1111111111111111111111111111111111111111111111111444444444444444
-- 090:1111111111111111111111111111111111111111111111144444444444444444
-- 091:1444444414444444144444441444444444444444444444444444444444444444
-- 092:cccccccccdcccccccdccccdccdccccdcccccccdccccdcccccccdcccccccccccc
-- 096:2212166622121666221216662212166622121666221216662212166622121666
-- 097:6661212266612122666121226661212266612122666121226661212266612122
-- 176:1111111111111111666116666661166666611666666116666661166666611666
-- 177:1166611611666116116661161111111611111116116661161166611611666116
-- 178:1111166616666666166666661111166616666666166666661666666611111666
-- 179:6111116616666666166116661666116616666166116661666111116666666666
-- 180:6166666661111166611661666166666661666666616666666166666661666666
-- 181:6666666661666661611666616111666161611661616611616166611161666611
-- 182:6666661111666616611611666611166666116666611666661166666616666666
-- 183:6111166661666166616661666111166661666166616661666166616661111166
-- 184:1111111666616666666166666661666666616666666166666661666611111116
-- 185:6666666666111111616666666166666666111116666666616666661661111166
-- 186:6611666666116666661166666611666666116666666666666611666666116666
-- 192:666666666cccccc66c6666c66cccccc66c6666c66c6666c66c6666c666666666
-- 193:666666666cccccc66c6666666c6666666c66ccc66c6666c66cccccc666666666
-- 194:666666666cccccc6666c6666666c6666666c6666666c66666cccccc666666666
-- 195:666666666cc666c66c6c66c66c6c66c66c66c6c66c666cc66c6666c666666666
-- 240:6666666611161616616611166166161666666666666666666666666666666666
-- 241:6666666611166666116666661116666666666666666666666666666666666666
-- 242:6666666611161116116611161666161666666666666666666666666666666666
-- 243:6666666611161116616611661116161666666666666666666666666666666666
-- 244:6666666616166666111666666166666666666666666666666666666666666666
-- 255:dddddddddb6ee69dd66ff66dd3cccc3dd63cc36dd66c6c6dd76666fddddddddd
-- </TILES>

-- <TILES1>
-- 001:0000000000fff0000f8c8f000fcccf00066666000c666c000f666f0000606000
-- </TILES1>

-- <SPRITES>
-- 000:0000d0050eeeec550e6f6ed80efffe08cecccec8fcdddcf80cdddc08cdf0fdc0
-- 001:0000d0050eeeec550e6f6ed80efffe08cecccec8fcdddcf80cdddc08cdfffdc0
-- 002:0000d0050eeeec550e6f6ed80efffe08cecccec8fcdddcf80cdddc08cdf0fdc0
-- 003:0000d0050eeeec550e6f6ed80efffe08cecccec8fcdddcf80cdddc08cd000dc0
-- 004:000000000000d0000eeeec000e6f6ed0fefffe00cecccec00cdddcf0cdf0fdc0
-- 005:000000000000c00020333c00003232c030333300c0c3c3200cdddc30cd303dc0
-- 006:0000000000000000000000000000c00003333c0303232033033330033c3c3d30
-- 008:0000000000aa0aa00aaaa33a0aaaaa3a0aaaaaaa00aaaaa0000aaa000000a000
-- 009:0000000000000000000000000000000003333000032320000333300000303000
-- 016:0000000000044400004454400044448800444440044444000444440000808000
-- 017:0000000000044400004454400044448800444440044444000444440000888000
-- 018:00000000000000000060006009666660090a6a0006eeeee0040eee60000e0e00
-- 019:00000000000000000060006009666660090a6a0006eeeee0040eee60000eee00
-- 020:0000000000033300003131300033333000333330003333300030303000000000
-- 021:0000000000033300003131300033333000333330003333300003030000000000
-- 022:0aaaaaa0aabaabaaaaaaaaaaaaaaaaaa0b000b000bb00bb0bb000b000b00bb00
-- 023:0aaaaaa0aabaabaaaaaaaaaaaaaaaaaa00b000b000bb00bb0bb000b000b00bb0
-- 024:000000000333302003c3c0200333302000303020aaad3330aea3d0e00a300300
-- 025:000000000333320003c3c20003333200aaa03200aead33000a03de0000300300
-- 032:00aaaa000abbfba0abbfba00afffbba0abbfba000abbfba000aaaa0000000000
-- 033:00aaaaa00abbfa00abbfbba0afffba00abbfbba00abbfa0000aaaaa000000000
-- 034:000000b00000cacb00cca7cc0ccccccc030300cc000030cc0ccccccc000000cc
-- 035:0000000000000000cbb00000cccbb000ccccb000cccccbb0ccccccb0cccccc00
-- 036:00000000000a3000000a3000000a0000000a0000000a0000000a0000000a0000
-- 050:0000bccc0b000bcc0bb000b00cccc0000bcccccc000bcccc0000bcbb00000000
-- 051:00ccccb00000ccb00000cc0000ccccbbcccccccbccccccc0ccccccb00cbbcbb0
-- </SPRITES>

-- <MAP>
-- 000:70707070707070707070707070707070707070707070707070707070707030303030308292a2b23030303030723030308292a2b23030308292a2b230121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212d0d0d0d0d0d0d0d0d0d0d0d0d0d0d0d0d0d0d0d0d0d0d0d0d0d0d0d0d0d0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 001:0b1b2b3b4b5b6b7b2b3b8b9babd0d0d0d0d0d0d0d0d0d0d0d0d0d0d0d0d030303030728393a3b33050303030303030308393a3b33062308393a3b330121252525252525252525212121212121212121212121212121212121212121252125212521252125212525252525212525252525252525252121212d0a0a0a04242a0a0a0a04242a0a0a0a0a04242a0a0a0a0a0a04242a0a0d0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 002:d0a1a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0d030503030308494a4b430308292a2b23072308494a4b43050308494a4b430125252121212121212125212121212121212121212121212121212121212121252525252525252525252521212121212121212121252525212121212d0a04242a04242a0a04242a0424242a0a0a042a042a0a0a042424242a0d0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 003:d0a0a0a0a0a0a0a0a0e0a0a0a0a0a1a081a0a0a0a0a0a081a0a0a0a0a0d030303072308595a5b530308393a3b33030308595a5b53030308595a5b530125212121212121212125252125252521212121212125212125252521212121252125212521252125212525252525252521252525252521212121212d04242a0a0a042a0a042a0a0a0a04242424242a0a0a0a04242a0a0a042d0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 004:d0a0a0a0010101a0a0a0a0b1a0a0a0a0a0a0a0a091a0a0a0a0a0a0a0a0d0308292a2b23030303072308494a4b4305030303030308292a2b230305062125212525252525252121252525212521212521252125212525212521212121252121212121212125212525212125212121252125212525212121212d0a0a0a0a0a042a0a0a0a0a0a0a0a0a0a0a0a0a042424242a0a0a0a042d0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 005:d0b1a05101010102e0a05353a0a0e0a0a0a0a1a0a0a0a0a0a0a0a0a0a0d0308393a3b3308292a2b2308595a5b58292a2b26230308393a3b330303030125212521212121252121212125212121212525252525212121212521212121252121212525252125212525252125212121252125212525252121212d0a0a0a0a0a0a0a0a0a0a042a0a0a0a0a0a0a0a0a042a0a0a0a0a0a042d0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 006:d0a0a0a0010101a0a0815353a0a0a0a0a0a0a0a0a0a0b1a0b1a0a091a0d0308494a4b4308393a3b330303030308393a3b33030308494a4b48292a2b2125252521212121252121212125212121212521252125212121212525212121252121212125252121252521212125252125252125212525212121212d0424242424242424242a04242a0a042424242a0a0a0a0a04242a0a032d0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 007:d0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0b1a0a0e0a0a0a0a0a0a0a0a0d0308595a5b5308494a4b430305030308494a4b48292a28595a5b58393a3b3121212121212125252121212125212121212121212125212125252525212121252121212525252525252521212125252525252125252525252125252a0a0a0a0a042a0a0a0a0a0a042424242a0a0a042a0a0a0a0a0a0a0a0a0d0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 008:d0b1a0a1a0a0a1a0a0a0a0a0a081a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0d06230303030308595a5b572303030308595a5b58393a3b33030308494a4b4121212121252525252121212125212121212121212125252525212125252521252121212525212121212121212125212121252121212125212125212d0a0a0a042a0a0a042a0a0a0a0a0a0a0a0a0a0a04242a04242424242a0d0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 009:d0a0a0a0a0a0a0a0a091a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0d0303030625030303030303030623030306230308494a4b43050308595a5b5121212121252121252121212521212121212121212125252125212121212525252121212521212121212121252125212521252125212525252525212d0a0a0a04242a0a042a0a04242a0a0a04242a0a0a0a04242a0a0a04242d0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 010:d0a0a0a0a0e0a0a0a0a0a0a0a0a1a0a0a0a081a0a0a0a0a0a0a081a0a0d0303050303030303050303030303030303030308595a5b530303030303030121212121252121252125252525252521212121212125212525252121212121252521252521212121212125252525252521212125212125212121212d0a0a0a0a042424242a0a0a04242a0a042a042a042a0a0a0a0a0a0a042d0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 011:d0a0a1a0a0a0a0a0a0a0a0a0a0a0a0e0a0a0a0a0b1a0a0e0a0a0a0a0a0d0212121212121212121212121212121212121212121212121212121212121121212121252521252121252121252521212525252525212520352121212121252525252521212121212525252125212525252525212525252121212d0a0424242a0a04242a0a0a0a042a0a042a0a0a042a0a0424242a0a0a0d0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 012:d0a0a0a0a0a0a0a0b1a0a081a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0d0212121212121212121212121212121212121212121212121212121212121121252525212521252121252121252121212521212521212525252121212121212125212121212121212125212121212125252121212125252121212d0a042a042a0a0a0a0a0a0a0a0a042a0a0a0a042a0a0a042a04242a0a0d0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 013:d0a091a0a081a0a0a0a0a0a0a0a0a0a081a0a0a0a0a0a0a0a0a0b1a0a0d0101010101010101010101010101010101010101010101010101010101010121252125252521252525252121252121212121212521212121212121212121212125252521252121212525252121212121252525252521252121212d0a0a0a042a0a0a0424242a0a0a04242a0a04242a0a0a0a0a0a042a0a0d0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 014:d0a0a0a0a0a0a0a0a0a0e0a0a0a0a1a0a0a091a0a0a0a081a0a0a0a0a0f0101010101010101010101010101010101010101010101010101010101073525252121212121212121252521252525252525252521212121212121212121212125252525252521252521212121212121212121252525252121212d0a0a0a042a0a04242a042a0a0a0a042424242a0a0a04242424242a0a0d0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 015:d0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0101010101010101010101010101010101010101010101010101010101010121212121212121212121252525252121212125212521212121212121212121212125212521252525252521212121212121212121212521252121212d0a042a0a0a0a0a0a0a0a042a042a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0d0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 016:d022d0d0d0d0d0d0d0d0d0d0d0d0d0d0d0d0d0d0d0d0d0d0d0d0d0d0d0d0101010101010101010101010101010101010101010101010101010101010121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212d0d0d0d0d0d0d0d0d0d0d0d0d0d0d0d0d0d0d0d0d0d0d0d0d0d0d0d0d0d0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 017:a0a0a0a0a0a0a0a060606060606060606060606060606060606060a0a0a0646464646464646464646464646464646464646464646464646464646464646464646464646464646464646464646464646464646464646464646464b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b00b1b2b3b4b5b6b7b8b3b8b5b9b130c1c0c2c3cab13131313131313131313000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 018:a0a0a0a0a0a0a0a060606060606060606060606060606060606060a0a0a0646464646464646464646464646464646464646464646464646464646464646464646464646464646464646464646464646464646464646464646464b0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0b0a0a00f1f2f3f4fa0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a031a0a0b0132345234523452345234523452345234523452345232323452345234513000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 019:a0a0a0a0a0a0a0a060606060606060606060606060606060606060a0a0a0646464646464646464646464646464646464646464646464646464646464646464646460606060606060606060646464646464646464646464646464b0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0b0ffa0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0ffa0a0a0a0a0a0a031a0a0b0134523232345234523452345454523234545454523454545234545234513000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 020:a0c0a0c0a0a0c0a060606060606060606060606060606060606060a0a0a0646464646464646464646464646464646464646464646464646464646464646464646460606060606060606060646464646464646464646464646464b0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0b031a0a0a0a031a031a0a0a0a0a0a0a031a031a0a0a0a0a0a0a031a0a0b0132345232323452345232323452345234523452345234523452323234513000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 021:a0a0a0a0a0e0a0a060606060606060606060606060606060606060a0a0a0646464646464646464646464646464646464646464646464646464646464646464646460606060606060606060646464646464646464646464646464b0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0b031a0a0a0a031a031a0a0a0a0a0a0a031a0a0a0a0a0a0a0a0a031a0a0b0134545234523232345234545452323234523232323454523234545452313000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 022:a0a0a0a0c1d1e1f160606060606060606060606060606060606060a0a0a0646464646464646464646464646464646464646464646464646464646464646464646441606060606060606060646464646464646464646464646464b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b031b0a0a0a0a0a0b031a0a0a0a031a031a0a0a0ffa0a0a031a031a03131313131a031a0a0b0132345234523452345234523232345232323452345234523452345234513000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 023:a0c0a0a0c2d2e2f260606060606060606060606060606060606060a0f0a0414111111111606060606040111141111140111141606040606060606040111160604041606060606060606060808080808080808080808080808080808080808080808080808080808080808080808080808071b0a0a0a0a0a0b031a0a0a0a031a031a0a0a031a0a0a031a031a031a0a0a031a031a0a0b0131313131313131345232323452345452323452345454523450414142413000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 024:a0a0a0a0c3d3e3f360606060606060606060606060606060606060a0a0a0646464646464646464646464646464646464646464646464646464646464646464646441606060606060606060646464646464646464646464646464b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0a0a0a0a0a0b031a0a0a0a031a031a0a0a031a0a0a031a031a031a0ffa031a0ffa0a063748080808075031323232323452323234523452323234523451635350613000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 025:a0a0c0a0c4d4e4f460606060606060606060606060606060606060a0a0a0646464646464646464646464646464646464646464646464646464646464646464646460606060606060606060646464646464646464646464646464b0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0b0313131313131a0313131313131313131a031a031a0a0a031a031a0a0b0131313131323131345452323452323452345452345454545231634340613000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 026:a0a0a0e0a0a0a0e060606060606060606060606060606060606060a0a0a0646464646464646464646464646464646464646464646464646464646464646464646460606060606060606060646464646464646464646464646464b0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0b0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0b0132345234523452345234523452345232323452323234523450515152513000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 027:a0a0a0a0c0a0a0a060606060606060606060606060606060606060a0a0a0646464646464646464646464646464646464646464646464646464646464646464646460606060606060606060646464646464646464646464646464b0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0b0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0b0134545232323232345234545452323452345454523234545452323234513000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 028:e0a0a0a00101a0a060606060606060606060606060606060606060a0a0a0646464646464646464646464646464646464646464646464646464646464646464646460606060606060606060646464646464646464646464646464b0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0b0a0a0a0ffa0a0a0a0a0a0a0a0a0ffa0a0a0a0a0a0a0a0a0a0a0a0a0a0b0132345234523232323234523452345234523232345232323232323234513000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 029:a0a0a0a00101c0a060606060606060606060606060606060606060a0a0a0646464646464646464646464646464646464646464646464646464646464646464646464646464646464646464646464646464646464646464646464b0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0b0a0a0a0a0a0a0a0a0a0a0a0a0b0b0b0b0b0a0a0a0a0a0a0a0a0a0a0a0b0134545234523452345232323232345234523454545454545452323234513000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 030:a0c0a0c0a0a0a0a060606060606060606060606060606060606060a0a0a0646464646464646464646464646464646464646464646464646464646464646464646464646464646464646464646464646464646464646464646464b0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0b0a0a0a0a0a0a0a0a0a0a0a0a0b0a0a0a0b0a0a0a0a0a0a0ffa0a0a0a0b0132345234523452345234523452345232323232323234523452323234513000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 031:a0a0a0a0a0a0c0a060606060606060606060606060606060606060a0a0a0646464646464646464646464646464646464646464646464646464646464646464646464646464646464646464646464646464646464646464646464b0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0b0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0b0a0a0a0a0a0a0a0a0a0a0a0b0134545454523232345454545454545234545452323454545452323234513000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 032:a0a0e0a0a0a0a0a060606060606060606060606060606060606060a0a0a0646464646464646464646464646464646464646464646464646464646464646464646464646464646464646464646464646464646464646464646464b0a0a0b0a0a0a0a0a0a0a0a0a0a0a0b0a0a0a0a0a0a0a0a0a0a0a0a0a0a0b0a0a0a0a0a0a0a0a0a0a0a0a0b0a0a0a0b0a0a0a0a0a0a0a0a0a0a0a0b0132345234545452345234523452345234523452345234523452323234513000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 033:a0a0a0a0a0a0a0e060606060606060606060606060606060606060a0a0a0646464646464646464646464646464646464646464646464646464646464646464646464646464646464646464646464646464646464646464646464b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0b0131313131313131313131313131313131313131313131313131313131313000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 034:000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000969696969696969696969696969696969696969696969696969600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 035:000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000096969696969696969696969696969696969696969696969696969600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 036:000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000096969600969696969696969696969696969696969696969696969696969600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 037:000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000009696969696969696969696969696969696969696969696969696969600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 038:000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000969696969696969696969600000000000000000096969696969600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 039:000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000869696969696969696969600000000000000000096969696969600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 040:000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000869696969696969696969600000000000064749696969696969600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 041:000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000869696969696969696969600000000005565759696969696969600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 042:000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000869696969696969696969600009636465666769696969696969600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 043:000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000869696969696969696969607172737475767779696969696969600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 044:000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000869696969696969696969608182838485868789696969696969600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 045:000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000869696969696969696969609192939499696969696969696969600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 046:000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000868686869696969696969696969696969696969696969696969600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 047:000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000969696969696969696969696969696969696969696969696969600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 048:000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000969696969696969696969696969696969696969696969696969600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 049:000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000969696969696969696969696969696969696969696969696969600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 050:000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000969696969696969696969696969696969696969696969696969600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 135:000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- </MAP>

-- <WAVES>
-- 001:0123456789abcdeffedcba9876543210
-- </WAVES>

-- <SFX>
-- 000:010001000100f100f100f100f100f100f100f100f100f100f100f100f100f100f100f100f100f100f100f100f100f100f100f100f100f100f100f100400000000000
-- </SFX>

-- <TRACKS>
-- 000:100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- </TRACKS>

-- <FLAGS>
-- 000:0000001000100010001000101010001020202020202020000000000010101010101010401000000010101010101010101010001010ff00001010101010101010101010001000100010101010101010101000101010000000101010100000000010100000000000000000000000000000000000000000000010100000000000001010101010101010101010000000000010101010101010101010100000000000101010101010101010101000000000001010101010101010101010000000000010101010101010101010100000000000101010101010101010101000000000001010101010101010101010000000000010101010101010101010100000000000
-- </FLAGS>

-- <PALETTE>
-- 000:000000555555aaaaaaffffff0000aa5555ff00aa0055ff5500aaaa008100aa0000ff5555aa00aaff55ffaa5500ffff55
-- </PALETTE>

-- <PALETTE1>
-- 000:000000616165da00ffff00ff0095c200008199000000fa00006100faee0004ffff048585da9d71995000faffffff7900
-- </PALETTE1>

