-- title:  Tower Defence
-- author: Balistic Ghoul
-- desc:   short description
-- script: lua

--FLAGS
--0=Walkable/Not placeable
--1=Enemy Spawn
--2=Lose hp
--3=fire/hurt
--4=ice/slow
--5=Unwalkable and unplaceable
--6=Place bushes

mx=0
my=0
x=1*8+2
y=16*8
word="Wave 1"
hspr1=261
hspr2=261
hspr3=261

function TIC()

	cls(0)
	map(mx,my)
 spr(258,0+1,16*8-1,8) --Ammo Reastock
	print("99",x,y,15,0,1,1) --99 is MAX coins
	spr(276,x+8,y-1,8) --Coin Icon
	spr(293,0,0,8,1,0,0,4,1) --Ammo
	print(word,4*8+1,0+1,0,0,1,1) --wave #
	spr(259,7*8+1,0,8) --Go to next wave
	spr(hspr1,27*8,0,8) --------
	spr(hspr2,28*8,0,8) ---HP---
	spr(hspr3,29*8,0,8) --------
	
	spr(304,29*8,16*8,8)--Tower
	spr(308,28*8,16*8,8)--Factory
	spr(305,27*8,16*8,8)--Ice Tower
	spr(306,26*8,16*8,8)--Fire Tower
	spr(307,25*8,16*8,8)--Power Tower
	spr(309,24*8,16*8,8)--Heavy Tower
	spr(310,23*8,16*8,8)--Bomb Thrower

	--spr(20,21*8,9*8,8,1,0,0,3,1)--Lose HP
end

-- <TILES>
-- 001:eebeebebebbbbbb5bbb5bbb5eb5bebbbebbebbb5bbbbbbbbebbbbbb5b55b5b55
-- 002:eebeebebebbbbbb5bbbb1bbbebb1e3b5bbbb3bb5ebbbbbbbebbbbbb5b5b55b55
-- 003:ebeebeebebbbbbb5bbbbbbbbebbbbbb5bbbbbbb5ebbbbbbbebbbbbb5b55b5b55
-- 004:9949499494444442444442429444494444244442949444449444444242422422
-- 005:99494994944444424444a442944a774444a77142944114449444444242422422
-- 006:9949499494444442444444429444444444444442944444449444444242422422
-- 007:bb5b5bb5b555555155555151b5555b5555155551b5b55555b555555151151511
-- 008:3313313131111110111111103111111131111110111111113111111010010100
-- 009:aa7a7aa7a777777177777171a7777a7777177771a7a77777a777777171711711
-- 010:aa7a7aa7a777777177777771a777777777777771a7777777a777777171711711
-- 011:eeb00bebeb0bb0b5b0fb510b0fb5b5100b595110b0b42105eb0420b5b502105b
-- 016:f6f6ff66f666666266266666f6f6666266666262f6666f666666666262262622
-- 017:adaadaadadddddd3ddddddddadddddd3ddddddd3adddddddadddddd3d33d3d33
-- 018:e9ee9e9ee999999999999996e9999999e999999699999999e999999696966966
-- 019:000000002424424142222222422222212121121100000000dddddddddddddddd
-- 020:eebeebebebbbbbbbbbbbbbb0ebbbbb0ebbbbb0e1ebbbb0b5ebbb0b5bb55b0bb5
-- 021:99400049940eb10400e5b510b101570b551010b1b17010b555170b5b51b10bb5
-- 022:ebbeebebebbbbbb500bbbbb5b10bbbbb5510bbb5b170bbb555170bbb51b10b55
-- 023:ffeffefefeeeeee9eeeeeee9feeeeeeefeeeeee9eeeeeeeefeeeeee9e99e9e94
-- 024:ffeffefefe9eeee9eefe9ee9feeefeeefe9eee99eefe9efefeeefee9e99e9e94
-- 025:dddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd
-- 026:ee9ee9e9e999999499999994e9999999e999999499999999e999999494494942
-- 027:ee9ee9e9e999999499999494e9999e99e949999499e99999e999999494494942
-- 032:f6f6ff66f666666266666666f666666266666662f66666666666666262262622
-- 033:3232332232222221222222223222222122222221322222222222222121121211
-- 034:3323233232222221222221213222232222122221323222223222222121121211
-- 039:f0e00efe0b0bb0e9050b50090bbbb0b0f005bb50ee0bb00efe0b50e9e90bb094
-- 048:bbbbbbbbbffffffbbfbbbbbbbfbbbbbbbffffbbbbfbbbbbbbffffffbbbbbbbbb
-- 255:fffffffff077770ff770077ff706067ff700007ff7777777f777777ff7ffffff
-- </TILES>

-- <SPRITES>
-- 001:800888880fa088080ffa00f080ffa0f0880ffff08800fff080fffff088000008
-- 002:88800888880d3088800310080d3d717003171770800170088807708888800888
-- 003:808888880b0888880eb088880bbb08880bb508880b5088880508888880888888
-- 004:8808088880102088012222080122220880222088880208888880888888888888
-- 005:880808888060608806f666080666620880662088880208888880888888888888
-- 006:8800000080ffffff0f0000000f0888880f0888880f00000080ffffff88000000
-- 007:00000000ffffffff00000000888888888888888800000000ffffffff00000000
-- 008:00000088ffffff08000000f0888880f0888880f0000000f0ffffff0800000088
-- 009:1100001111000011110000111100001111000011110000111100001111000011
-- 010:88800888880fa0888807c08880affa080c77710880affc088070001088888888
-- 011:88800888880fa0888807c08880affa08807771c080cffa080700010888888888
-- 012:88000088803117088804208880f3170802317008803172088030007088888888
-- 013:88000088803117088804208880f3170880317020802177080300070888888888
-- 014:8888888880088008013007100113711000077000888008888888888888888888
-- 015:8888888888088088803007080113711001077010808008088888888888888888
-- 017:8800088880fe908880e9088880eee0888809e08880fe9088880e088888888888
-- 018:8000888809940888094208880422088880008888888888888888888888888888
-- 019:8008888809408888042088888008888888888888888888888888888888888888
-- 020:800008880ffee0880f99e0880e9e90880e9e90880e9e90880ee9408880000888
-- 021:8888888888888888888888886666666622222222888888888888888888888888
-- 022:8888888888888888888888887777777711111111888888888888888888888888
-- 025:1100001111000011110000111100001111000011110000111100001111000011
-- 026:88800888880310888804c08880a117080c39170880324c088030007088888888
-- 027:88800888880310888804c08880a11708803917c080c247080300070888888888
-- 028:8800008880e662088804c08880fe62080ce6210880e62c0880e0001088888888
-- 029:8800008880e662088804c08880fe620880e621c080c621080e00010888888888
-- 030:88800888800fa0880a0a700880fffa70800a70080ffff0888000070888888888
-- 031:88800888880fa008800a70700afffa08800a7008880ffa708070000888888888
-- 037:8800000080ffffff0f0000000f0666660f0222220f00000080ffffff88000000
-- 038:00000000ffffffff00000000666666662222222200000000ffffffff00000000
-- 039:00000000ffffffff00000000666666662222222200000000ffffffff00000000
-- 040:00000088ffffff08000000f0666660f0222220f0000000f0ffffff0800000088
-- 041:1100001111000011110000111100001111000011110000111100001111000011
-- 042:888888888888888888000888802120080242120809214a300212237088888888
-- 043:88888888888888888800088880212008024212080921a3080212370888888888
-- 044:88800888880fc088880cc08880eb57080cb5710880b51c0880b0001088888888
-- 045:88800888880fc088880cc08880eb570880b571c080c517080b00010888888888
-- 046:88000088803711080fd37108037711080371b108800000080f7a7a1080000008
-- 047:888000088803711080fd37108037711080371610800000080f7a7a1080000008
-- 048:8888888880800808800a700880377108880a108888037088880a108888888888
-- 049:8888888880800808800a1008880d30888803108880ad710880d3d70888888888
-- 050:8888888880800808800e60088066260888096088880620888809108888888888
-- 051:8888888880800808800f400880fe940880e9440880ee940880e9440888888888
-- 052:888888888808888880a0888880fa088880ffa08880ffa08880ffa08888888888
-- 053:80800808800fa00880fa110880a7710880a7110880a7710880a7110888888888
-- 054:8888868888800888880a708880fa710880a7110880aa71088807108888888888
-- 057:1100001111000011110000111100001111000011110000111100001111000011
-- 058:888888888880088888055088805fb50805fbbb5005bbbb108055510888888888
-- 059:8880088888055088805fb50880fbb508805bb508805bb1088805108888888888
-- 060:88000888806940888806c00880ce962080e9462080c42f600e00040888888888
-- 061:88000888806940888806c00880ce96200ce9462080e42f6080e0004088888888
-- 062:888888888880088888022088802f620802f66620026666208022220888888888
-- 063:8880088888022088802f620880f6620880266208802662088802208888888888
-- 064:80800808800e900880e994088888888888888888888888888888888888888888
-- 065:8880088888031088803117088888888888888888888888888888888888888888
-- 066:888008888809c088809cc4088808808888800888888888888888888888888888
-- 067:88800888880e608880e662088888888888888888888888888888888888888888
-- 073:1100001111000011110000111100001111000011110000111100001111000011
-- 074:88800888880940888804c08880fb51080cb5510880b24c0880b0001088888888
-- 075:88800888880940888804c08880fb510880b551c080c241080b00010888888888
-- 076:88800888880420888802508880a317080b317208803175088030002088888888
-- 077:88800888880420888802508880a317088031725080b172080300020888888888
-- 078:880880888070070880a62a0888021088806f6208880620888060020888888888
-- 079:880880888070070880a62a0888021088806f6208880620888806208888888888
-- 080:8888808888880608888070888803108888011088888008888888888888888888
-- 081:8888888888880888888060888803108888011088888008888888888888888888
-- 082:8888888888888888888008888803108888011088888008888888888888888888
-- 083:888888888888888888800888880ff088880fa088888008888888888888888888
-- 089:1100001111000011110000111100001111000011110000111100001111000011
-- 090:8880088888800888880eb088880bb0888000000880af3a080e0310100bb00710
-- 091:8880088888800888880eb088880bb0888000000880a13a080e03f0100bb00710
-- 092:88800888880440888804c08880ef6a080cf6620880ff2c0880f0007088888888
-- 093:88800888880440888804c08880ef6a0880f662c080cf2a080f00070888888888
-- 094:888888888800008880fa7a080f0710f080800808888888888888888888888888
-- 095:808888080f0000f080fa7a088807108888800888888888888888888888888888
-- 096:1111111111111111000000000000000000000000000000001111111111111111
-- 097:1111111111111111000000000000000000000000000000001111111111111111
-- 098:1111111111111111000000000000000000000000000000001111111111111111
-- 099:1111111111111111000000000000000000000000000000001111111111111111
-- 100:1111111111111111000000000000000000000000000000001111111111111111
-- 101:1111111111111111000000000000000000000000000000001111111111111111
-- 102:1111111111111111000000000000000000000000000000001111111111111111
-- 103:1111111111111111000000000000000000000000000000001111111111111111
-- 104:1111111111111111000000000000000000000000000000001111111111111111
-- 105:1100001111000011000000110000001100000011000000111111111111111111
-- 106:88800888880f3088880ac08880fa37080ca3710880342c0880a0001888888888
-- 107:88800888880f3088880ac08880fa370880a371c080c421080a00010888888888
-- 108:888888888888888888800888880f108880f33108801331088801108888888888
-- 109:88888888888008888801f088880f308888013088880130888801108888888888
-- 110:8880008888077108807606088070000807777710807771088807010888888888
-- 111:8880008888077108807606088070000807777710807771088070108888888888
-- 224:000000001000000021000000510000004200000071000000a3000000fa000000
-- 240:6200000094000000e9000000b5000000d10000003700000082000000c8000000
-- 241:88800888880770888807c088807777080c77770880777c088070007088888888
-- 242:88800888880770888807c08880777708807777c080c777080700070888888888
-- 255:fffffffff077770ff770077ff706067ff700007ff7777777f777777ff7ffffff
-- </SPRITES>

-- <MAP>
-- 000:919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 001:9130303030303030203030303030303030303030303030301010b0b0b091918080808080808080808080808080808080808080808080808080808091917272727171717171717171717171717171717171717271717171717191918080808080808080808080808080808080808080808080808080808091913030303030303030303030303030303030303030303030303030303091000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 002:91304060606040406060605060606060606060605060606060606070b091918080808080808080a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0808080919172b172a1a1a1a1a1717171717171717271a1a1a171a1a1a1a1a1a17191918080808080800202808080808080808080808002121212121212228091913030303030303030303030303030303030303030303030303030303091000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 003:9130403010303030302030303030303030203030303030203030b0b0b0919180806060606060604040606050606060404060606060606060607080919172a172a1727171a171a1a1a17171717171a171a171a171717171a17191918080808002020202018080808080808080800202120102020202808091913030303030303030303030303030303030303030303030303030303091000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 004:913040304040606060606060404060606060404060606060606040403091918080608080808080a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0808080919171a171a1717171a171a171a17171717171a171a171a171a1a1a1a17191918080800212121212121212028080808080010202120202808080808091913030303030303030303030303030303030303030303030303030303091000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 005:91204030403010303030303030303030303030303030303030303040109191808050808080404060a0a0808080a080808080808080808080808080919171a171a1a1a171a171a171a1a1a1a1a171a171a171a171a17172717191918080800212010202800212020280808001020202120280808080808091913030303030303030303030303030303030303030303030303030303091000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 006:91106030403040406060604040406060606060606040406060603040109191808060404090409060906060404060908080a090909090a0a0a08080919171a1717171a171a171a17172717171a171a171a171a171a1a1a1a17191918080020212020280808012020102020202020202120280808080808091913030303030303030303030303030303030303030303030303030303091000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 007:91305030603040303030301030303030103030303030303030603040309191808080804090609060906080808040a08080a0405060606060a08080919171a1a17171a171a171a171a1a1a1a1a171a171a171a171717171a17291918080010212028080808012121212121212020202120202808080808091913030303030303030303030303030303030303030303030303030303091000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 008:91306030603060301030303020303040406060404060603010503060309191808080805090409060906080808060a0a0a0a060a0a0a0a040a0808091917171a17171a171a171a171a17171717172a171a171a171a1a1a1a171919180a0020212020280808001020202800212020202121212121280808091913030303030303030303030303030303030303030303030303030303091000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 009:91106030601060604040606050606040303030103003603030601060209191808080a0604040a0609050808080604040406060a08080a040a0808091917271a171a1a171a171a171a1a1a1a1a171a171a172a172a171717171919180a0a00212121212121202028080808012121202020202021202808091913030303030303030303030303030303030303030303030303030303091000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 010:91106030603030303030302030303030301020303030303030401040109191808080a090a0a0a0604040a080a0a09090a0a0a09080808060a0808091917171a171a17171a171a17171717171a171a171a171a171a1a1a1a130919180a0a0a002020202021202018080808080021202020102021202028091913030303030303030303030303030303030303030303030303030303091000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 011:913060106060606060606060404040406060604040606060404030501091918080a0a09090a0a0a0a0a0a0a0a090909090a0a09090808050a08080919171a1a171a17172a171a171a1a1a1a1a171a171a171a171717171a13091918030a0a0a0020102021202808080808080801212120202021212018091913030303030303030303030303030303030303030303030303030303091000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 012:9110601010303010303030103030302030301030303030303030306030919180a0a060605060604040606060506060606040406060606060a08080919171a17171a17171a171a171a17171717171a171a171a171717130a13091918030606060121212121202808080808080808002120202010212028091913030303030303030303030303030303030303030303030303030303091000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 013:911060606060606060604060605060606040404060606040404060601091918090036030a0a0a0a090909090a0a0a0a0a0a0a0a0a0808080808080919171a1a1a1a17171a1a1a172a1a1a1a1a1a1a171a1a1a1717130036030919180036030a0a0a002028080808080808080808080121212121212028091913030303030303030303030303030303030303030303030303030303091000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 014:9110101030303030103030303030101030303020303030302030301010919190303030301030a0808080808080808080808080808080808080808091917171717171717171717171717171717171717171717271303030303091918080808080808080808080808080808080808080808080808080808091913030303030303030303030303030303030303030303030303030303091000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 015:913131313131313131313131313131313131313131313131313131313191913131313131313131313131313131313131313131313131313131313191913131313131313131313131313131313131313131313131313131313191913131313131313131313131313131313131313131313131313131313191913131313131313131313131313131313131313131313131313131313191000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 016:919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191919191000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- </MAP>

-- <WAVES>
-- 000:00000000ffffffff00000000ffffffff
-- 001:0123456789abcdeffedcba9876543210
-- 002:0123456789abcdef0123456789abcdef
-- </WAVES>

-- <SFX>
-- 000:000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000304000000000
-- </SFX>

-- <FLAGS>
-- 000:00000000101010200200000200000000001190020040000000021020000000000010200000000002000000000000000004000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- </FLAGS>

-- <PALETTE>
-- 000:0000001d2b537e255383769cab5236008751ff004d5f574fff77a8ffa300c2c3c700e436ffccaa29adffffec27fff1e8
-- </PALETTE>

