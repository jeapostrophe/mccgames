pico-8 cartridge // http://www.pico-8.com
version 29
__lua__
function _init()
    --create a table for player data
    player = {
        sprite = 1,
        x = -8,
        y = 59,
        timing = 0.25,
    }

    --create a table for enemies data
    enemies = {}
    --set enemy sprites, positions, and timing
    enemy1 = { sprite=5 , x = -20, y = 5, timing = 0.1, speed = 1.25, first = 5, last = 9 }
    enemy2 = { sprite=9 , x = -14, y = 30, timing = 0.2, speed = 0.4, first = 9, last = 13 }
    enemy3 = { sprite=13 , x = -11, y = 90, timing = 0.4, speed = 0.75, first = 13, last = 17 }
    --add each enemy to enemies table
    add(enemies,enemy1)
    add(enemies,enemy2)
    add(enemies,enemy3)

    --create a table for items data
    items = {}
    --set items sprites, positions, and timing
    item1 = { sprite=48 , x = 30, y = 110, timing = 0.3, first = 48, last = 56 }
    item2 = { sprite=56 , x = 60, y = 110, timing = 0.25, first = 56, last = 60 }
    item3 = { sprite=60 , x = 90, y = 110, timing = 0.15, first = 60, last = 64 }
    --add each enemy to enemies table
    add(items,item1)
    add(items,item2)
    add(items,item3)
end

function _draw()
    cls()

    --draw player
    spr(player.sprite, player.x, player.y)

    --draw enemies
    for enemy in all(enemies) do
        spr(enemy.sprite, enemy.x, enemy.y)
    end

    --draw items
    for item in all(items) do
        spr(item.sprite, item.x, item.y)
    end

end

function _update()
    --animate player
    player.sprite += player.timing
    if player.sprite >= 5 then player.sprite = 1 end
    --move player
    player.x+=1
    if player.x > 127 then player.x=-8 end

    --enemies
    for enemy in all(enemies) do
        --animate
        enemy.sprite += enemy.timing
        if enemy.sprite >= enemy.last then enemy.sprite = enemy.first end
        --move
        enemy.x += enemy.speed
        if enemy.x > 127 then enemy.x=-8 end
    end

    --items
    for item in all(items) do
        --animate
        item.sprite += item.timing
        if item.sprite >= item.last then item.sprite = item.first end
        --don't move
    end
end
__gfx__
000000000766d0600766d0000766d0000766d0600800008008000080000000000000000000000000000000000000000000000000050005000000000000000000
000000000666d0600666d0600666d0600666d0600888888008888880080000800800008000000330000003300000033000003300dd5005d10000050000000500
007007000f1610600f1610600f1610600f161060008a8a00008a8a0008888880088888800000b3830000b3830000b383000b3830ddd50555555505d1000005d1
000770000ffff4420ffff0600ffff0600ffff4420028880000288800002a8a00002a8a000000b33300b0b3330000b333b00b33300dd550000d55555500555555
00077000fd65d5f00d65d4420d65d4420d65d5f020222200022222082028882820288820bb000bb000b00bb0bb00bb00b00bb0000d5550000d55500005d55000
0070070006dd50200fdd55f00fdd55f00fdd5020808888288088882008888800808888080b30033000b303300b303300b3033000005500000055000050550000
000000000d65d0000d65d0200d65d0200d65d00008222200082222000822220008222200003b3b300003b3b0003b3b0003b3b0000d0000000d0000000d000000
00000000050050000055000005005000005500000020020000020200000220000020200000bb3b00000bb3b000bb30000bb3b000000000000000000000000000
00000500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000005d1000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
55550555000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0dd55000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0d555000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00550000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0d000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000ee0000000000000ee00000000000044000000440000440000004444000044
0977aa00009a7000009a00000009a0000009a0000009a000009aa000077aaa0000eaae0000ee00000eaae000000ee00000400004004004004000040000400400
977999a009a77a00009a70000009a0000009a00000a9a00009a9aa00779999a000eaae000eaae0000eaae00000eaae00000000400dddddd0040000000dddddd0
779aa9a009779a00009770000009a0000009a0000099a00009a9aa007a9aa9a0000ee0000eaae00000ee000000eaae000dddd4d0d777777d0d4dddd0d777777d
7a9aa9a0077a9a00007790000009a0000009a0000099a00009a9aa009a9aa9a0000b003300ee0000000b0033000ee000d777777d4dddddd9d777777d4dddddd9
9a9aa9a007aa9a00007a9000000970000009a0000099a00009a9aa009a9aa9a0000b0330000b0033000b0330000b00334dddddd9494949494dddddd949494949
9a9999a009aa9a00009aa000000770000009700000a9a00009a9aa009a9999a00000b0000000b3300000b0000000b33029494942294949422949494229494942
09aaaa00009aa000009a00000007a000000770000009a000009aa00009aaaa000000b0000000b0000000b0000000b00002222220022222200222222002222220
