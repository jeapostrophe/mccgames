pico-8 cartridge // http://www.pico-8.com
version 29
__lua__
function _init()

 --underwater palette array
 local palarr={[0]=131,3,3,3,3,3,139,11,138,139,11,11,138,139,139,11}
  
 --apply secondary display pal
 pal(palarr,2)
 
 --palette tweak for surface
 pal(14,139,1)
 
 --turn on the sec disp pal
 poke(0x5f5f,0x10)
 
 --devkit for mouse
 poke(0x5f2d, 1)

end

function _draw()
 cls()
 spr(0,0,0,16,16)
 
 --draw wavy surface
 for x=0,127 do
  pset(x,stat(33)+2+sin(x/8+time()*2)/2,14)
 end
end

function _update()
 --set bitmask to mouse y +2
 setwaterlevel(stat(33)+2)
end

function setwaterlevel(lvly)
 --renders everything below
 --lvly in secondary disp pal
 for i=0,15 do
  local mypoke,dif=0,lvly-i*8
  if dif<=0 then
   mypoke=0xff
  elseif dif<8 then
   mypoke=tonum(sub("0b11111111",1,10-dif)..sub("00000000",1,dif))
  end
  poke(0x5f70+i,mypoke)
 end
end


__gfx__
00000000000000000000000000000000000000000000000000000000000000000b000000000000000000eeeeeeeee00000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000b0000000000000eeee000000000eeee0000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000b0000000000ee00000000000000000ee00000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000b0000000ee000000000000000000000ee000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000b00000e0000000000000000000000000e00000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000b00ee000000000000000000000000000ee000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000be0000000000000000000000000000000e00000000000000000000000
000000000000000000000000000000000000000000000000000d0000000000000000000e000000000000000000000000000000000e0000000000000000000000
0000000d0000000000000000000000000000000000000000000d000000000000000000e0b000000000000000000000000000000000e000000000000000000000
00000000d000000000000000000000000000000000000000000d000000000000000000e00b00000000000000000000000000000000e000000000000000000000
000000000d0000000000000000000000000000000000000000d000000000000000000e0000b00000000000000000000000000000000e00000000000000000000
0000000000dd00000000000000000000000000000000000000d00000000000000000e000000b00000000000000000000000000000000e0000000000000000000
000000000000d0000000000000000000000000000000000000d00000000000000000e0000000b0000000000000000000000000000000e0000000000000000000
0000000000000d000000000000000000000000000000000000d0000000000000000e000000000b0000000000000000000000000000000e000000000000000000
00000000000000d00000000000000000000000000000000000d000000000000000e0000000000b00000000000000000000000000000000e00000000000000000
000000000000000d0000000000000000000000000000000000d000000000000000e00000000000b0000000000000000000000000000000e00000000000000000
0000000000000000d00000000000000000000000000000000d0000000000000000e000000000000b000000000000000000000000000000e00000000000000000
00000000000000000d0000000000000000000000000000000d000000000000000e00000000000000b000000000000000000000000000000e0000000000000000
000000000000000000d000000000000000000000000000000d000000000000000e000000000000000b0000000000000000000000000000000000000000000000
0000000000000000000dd0000000000000000000000000000d000000000000000e0000000000000000b000000000000000000000000000000000000000000000
000000000000000000000d00000000ccccccccc0000000000d00000000000000e000000000000000000b00000000000000000000000000000000000000000000
0000000000000000000000d000ccccccccccccccccc00000d000000000000000e000000000000000000b00000000000000000000000000000000000000000000
00000000000000000000000dccccccccccccccccccccc000d009999990000000e0000000000000000000b0000000000000000000000000000000000000000000
0000000000000000000000ccccccccccccccccccccccccc0d990000009900000e00000000000000000000b000000000000000000000000000000000000000000
000000000000000000000ccccccccccccccccccccccccccc9000000000090000e000000000000000000000b00000000000000000000000000000000000000000
00000000000000000000ccccccccccccccccccccccccccc9c000000000009000e0000000000000000000000b0000000000000000000000000088888888888000
0000000000000000000ccccccccccccccccccccccccccc9ccc00000000000900e000000000000000000000000000000000000000000000888888888888888888
000000000000000000ccccccccccccccccccccccccccc9ccccc0000000000090e000000000000000000000000000000000000000000088888888888888888888
00000000000000000cccccccccccccccccccccccccccc9cccccc000000000090e000000000000000000000000000000008800000008888888888888888888888
0000000000000000ccccccccccccccccccccccccccccc9ccccccc00000000090e000000000000000000000000000000008800000888888888888888888888888
000000000000000ccccccccccccccccccccccccccccc9ccccccccc0000000009e000000000000000000000000000000000000008888888888888888888888888
000000000000000ccccccccccccccccccccccccccccc9ccccccccc00000000090e00000000000000000000000000000000000888888888888888888888888888
00000000000000cccccccccccccccccccccccccccccc9cccccccccc0000000090e00000000000000000000000000000000008888888888888888888888888888
00000000000000cccccccccccccccccccccccccccccc9cccccccccc0000000090e00000000000000000000000000000000088888888888888888888888888888
0000000000000ccccccccccccccccccccccccccccccc9ccccccccccc0000000900e0000000000000000000000000000000888888888888888888888888888888
0000000000000ccccccccccccccccccccccccccccccc9ccccccccccc0000000900e0000000000000000000000000000000888888888888888888888888888888
0000000000000ccccccccccccccccccccccccccccccc9ccccccccccc0000000900e0000000000000000000000000000008888888888888888888888888888888
000000000000ccccccccccccccccccccccccccccccccc9ccccccccccc0000090000e000000000000000000000000000088888888888888888888888888888888
000000000000ccccccccccccccccccccccccccccccccc9ccccccccccc00000900000e00000000000000000000000000088888888888888888888888888888888
000000000000ccccccccccccccccccccccccccccccccc9ccccccccccc00000900000e00000000000000000000000000888888888888888888888888888888888
0000bbbbbbbbbbbbbbbbbbbccccccccccccccccccccccc9cccccccccc000090000000e0000000000000000000000000888888888888888888888888888888888
0000bbbbbbbbbbbbbbbbbbbcccccccccccccccccccccccc9ccccccccc0009000000000e000000000000000000000008888888888888888888888888888888888
0000bbbbbbbbbbbbbbbbbbbccccccccccccccccccccccccc9cccccccc0090000000000e000000000000000000000008888888888888888888888888888888888
0000bbbbbbbbbbbbbbbbbbbcccccccccccccccccccccccccc99cccccc99000000000000e00000000000000000000008888888888888888888888888888888888
0000bbbbbbbbbbbbbbbbbbbcccccccccccccccccccccccccccc999999000000000000000e0000000000000000000088888888888888888888888888888888888
0000bbbbbbbbbbbbbbbbbbbcccccccccccccccccccccccccccccccccc0000000000000000ee00000000000000000088888888888888888888888888888888888
0000bbbbbbbbbbbbbbbbbbbcccccccccccccccccccccccccccccccccc000000000000000000e0000000000000000088888888888888888888888888888888888
0000bbbbbbbbbbbbbbbbbbbccccccccccccccccccccccccccccccccc00000000000000000000ee00000000000000088888888888888888888888888888888888
0000bbbbbbbbbbbbbbbbbbbccccccccccccccccccccccccccccccccc0000000000000000000000ee000000000000088888888888888888888888888888888888
0000bbbbbbbbbbbbbbbbbbbccccccccccccccccccccccccccccccccc000000000000000000000000eeee00000000088888888888888888888888888888888888
0000bbbbbbbbbbbbbbbbbbbcccccccccccccccccccccccccccccccc00000000000000000000000000000eeee0000088888888888888888888888888888888888
0000bbbbbbbbbbbbbbbbbbbccccccccccccccccccccccccccccccccd000000000000000000000000000000bb0000088888888888888888888888888888888888
0000bbbbbbbbbbbbbbbbbbbccccccccccccccccccccccccccccccc00dd000000000000000000000000000b000000088888888888888888888888888888888888
0000bbbbbbbbbbbbbbbbbbbccccccccccccccccccccccccccccccc0000d000000000000000000000000bb0000000008888888888888888888888888888888888
0000bbbbbbbbbbbbbbbbbbbcccccccccccccccccccccccccccccc000000d0000000000000000000000b000000000008888888888888888888888888888888888
0000bbbbbbbbbbbbbbbbbbbccccccccccccccccccccccccccccc00000000d00000000000000000000b0000000000008888888888888888888888888888888888
0000bbbbbbbbbbbbbbbbbbbcccccccccccccccccccccccccccc0000000000d00000000000000000bb00000000000000888888888888888888888888888888888
0000bbbbbbbbbbbbbbbbbbbccccccccccccccccccccccccccc0000000000000000000000000000b0000000000000000888888888888888888888888888888888
0000bbbbbbbbbbbbbbbbbbbcccccccccccccccccccccccccc0000000000000000000000000000000000000000000000088888888888888888888888888888888
0000bbbbbbbbbbbbbbbbbbbccccccccccccccccccccccccc00000000000000000000000000000000000000000000000088888888888888888888888888888888
0000000000000000000000ccccccccccccccccccccccccc000000000000000000000000000000000000000000000000008888888888888888888888888888888
000000000000000000000000ccccccccccccccccccccc00000000000000000000000000000000000000000000000000000888888888888888888888888888888
00000000000000000000000000ccccccccccccccccc0000000000000000000000000000000000000000000000000000000888888888888888888888888888888
000000000000000000000000000000ccccccccc00000000000000000000000000000000000000000000000000000000000088888888888888888888888888888
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000b00000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000b000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000b000000000090000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000b00000000000900000000000000000000000ffffffffffffffffffffffffffffffff
000000000000000000000000000000000000000000000000000000000000b00000000000900000000000000000000000ffffffffffffffffffffffffffffffff
00000000000000000000000000000000000000000000000000000000000b000000000000900000000000000000000000ffffffffffffffffffffffffffffffff
0000000000000000000000000000000000000000000000b000000000000b000000000009990000000000000000000000ffffffffffffffffffffffffffffffff
00000000000000000000000000000000000000000000000b0000000000b0000000000009990000000000000000000000ffffffffffffffffffffffffffffffff
0000000000aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa00000b00000000b00000000000009990000000000000000000000ffffffffffffffffffffffffffffffff
0000000000aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa000000b0000000b00000000000009990000000000000000000000ffffffffffffffffffffffffffffffff
0000000000aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa0000000b00000b000000000000009990000000000000000000000ffffffffffffffffffffffffffffffff
0000000000aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa0000000b00000b000000000000009990000000000000000000000ffffffffffffffffffffffffffffffff
0000000000aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa00000000b000b0000000000000009990000000000000000000000ffffffffffffffffffffffffffffffff
0000000000aadaaaaaaaaaaaaaaaaaaaaaaaaaaaada000000000b0b00000000000000009990000000000000000000000ffffffffffffffffffffffffffffffff
0000000000aaadaaaaaaaaaaaaaaaaaaaaaaaaaadaa0000000000bb00000000000000009990000000000000000000000ffffffffffffffffffffffffffffffff
0000000000aaadaaaaaaaaaaaaaaaaaaaaaaaaadaaa0000000000bb00000000000000009990000000000000000000000ffffffffffffffffffffffffffffffff
0000000000aaaadaaaaaaaaaaaaaaaaaaaaaaadaaaa0000000000b0b0000000000000009990000000000000000000000ffffffffffffffffffffffffffffffff
0000000000aaaadaaaaaaaaaaaaaaaaaaaaaadaaaaa000000000b000b000000000000009990000000000000000000000ffffffffffffffffffffffffffffffff
0000000000aaaaadaaaaaaaaaaaaaaaaaaaaadaaaaa000000000b0000b00000000000009990000000000000000000000ffffffffffffffffffffffffffffffff
0000000000aaaaadaaaaaaaaaaaaaaaaaaaadaaaaaa00000000b000000b0000000000009990000000000000000000000ffffffffffffffffffffffffffffffff
0000000000aaaaaadaaaaaaaaaaaaaaaaaadaaaaaaa0000000b00000000b000000000009990000000000000000000000ffffffffffffffffffffffffffffffff
0000000000aaaaaadaaaaaaaaaaaaaaaaadaaaaaaaa0000000b00000000b000000000009990000000000000000000000ffffffffffffffffffffffffffffffff
0000000000aaaaaaadaaaaaaaaaaaaaaadaaaaaaaaa000000b0000000000b00000000009990000000000000000000000ffffffffffffffffffffffffffffffff
0000000000aaaaaaaadaaaaaaaaaaaaadaaaaaaaaaa000000b00000000000b0000000009990000000000000000000000ffffffffffffffffffffffffffffffff
0000000000aaaaaaaadaaaaaaaaaaaadaaaaaaaaaaa00000b0000000000000b000000009990000000000000000000000ffffffffffffffffffffffffffffffff
0000000000aaaaaaaaadaaaaaaaaaadaaaaaaaaaaaa00000000000000000000b00000009990000000000000000000088ffffffffffffffffffffffffffffffff
0000000000aaaaaaaaadaaaaaaaaadaaaaaaaaaaaaa00000000000000000000000000009990000000000000000888888ffffffffffffffffffffffffffffffff
0000000000aaaaaaaaaadaaaaaaadaaaaaaaaaaaaaa00000000000000000000000000009990000000000000088888888ffffffffffffffffffffffffffffffff
0000000000aaaaaaaaaadaaaaaaadaaaaaaaaaaaaaa00000000000000000000000000009990000000000008888888888ffffffffffffffffffffffffffffffff
0000000000aaaaaaaaaaadaaaaadaaa888888888aaa00000000000000000000000000009990000000000888888888888ffffffffffffffffffffffffffffffff
0000000000aaaaaaaaaaadaaaada88888888888888800000000000000000000000000009990000000008888888888888ffffffffffffffffffffffffffffffff
0000000000aaaaaaaaaaaadaad8888888888888888888000000000000000000000000009990000000888888888888888ffffffffffffffffffffffffffffffff
0000000000aaaaaaaaaaaaad888888888888888888888880000000000000000000000009990000008888888888888888ffffffffffffffffffffffffffffffff
0000000000aaaaaaaaaaaaa8888888888888888888888888000000000000000000000009990000088888888888888888ffffffffffffffffffffffffffffffff
0000000000aaaaaaaaaaaa888b8888888888888888888888800000000000000000000009990000888888888888888888ffffffffffffffffffffffffffffffff
0000000000aaaaaaaaaaa888beb888888888888888888888880000000000000000000009990000888888888888888888ffffffffffffffffffffffffffffffff
0000000000aaaaaaaaaa8888beeb88888888888888888888888000000000000000000009990008888888888888888888ffffffffffffffffffffffffffffffff
0000000000aaaaaaaaa8888beeeeb888888888888888888888880000000000000000000999008888888888888888888888888888888888888888888888880000
0000000000aaaaaaaaa8888beeeeebb8888888888888888888880000000000000000000999008888888888888888888888888888888888888888888888880000
0000000000aaaaaaaa8888beeeeeeeeb888888888888888888888000000000000000000999088888888888888888888888888888888888888888888888888000
0000000000aaaaaaad8888beeeeeeeeeb88888888888888888888000000000000000000999088888888888888888888888888888888888888888888888888000
0000000000aaaaaad8888beeeeeeeeeeeb8888888888888888888800000000000000000999088888888888888888888888888888888888888888888888888000
0000000000aaaaada8888beeeeeeeeeeeeb888888888888888888800000000000000000999888888888888888888888888888888888888888888888888888800
0000000000aaaaaaa888beeeeeeeeeeeeeeb88888888888888888800000000000000000999888888888888888888888888888888888888888888888888888800
00000000000000000888beeeeeeeeeeeeeeeb8888888888888888800000000000000000999888888888888888888888888888888888888888888888888888800
00000000000000000888beeeeeeeeeeeeeeeebb88888888888888800000000000000000999888888888888888888888888888888888888888888888888888800
0000000000000000088beeeeeeeeeeeeeeeeeeeb8888888888888800000000000000000999888888888888888888888888888888888888888888888888888800
0000000000000000088beeeeeeeeeeeeeeeeeeeeb888888888888800000000000000000999888888888888888888888888888888888888888888888888888800
000000000000000008beeeeeeeeeeeeeeeeeeeeeeb88888888888800000000000000000999888888888888888888888888888888888888888888888888888800
000000000000000000beeeeeeeeeeeeeeeeeeeeeeeb8888888888000000000000000000999888888888888888888888888888888888888888888888888888800
00000000000000000beeeeeeeeeeeeeeeeeeeeeeeeeb888888888000000000000000000090888888888888888888888888888888888888888888888888888800
00000000000000000beeeeeeeeeeeeeeeeeeeeeeeeeeb88888880000000000000000000090088888888888888888888888888888888888888888888888888000
0000000000000000beeeeeeeeeeeeeeeeeeeeeeeeeeeeb8888880000000000000000000090088888888888888888888888888888888888888888888888888000
0000000000000000bbbbbbeeeeeeeeeeeeeeeeeeeeeeeebb88800000000000000000000090088888888888888888888888888888888888888888888888888000
0000000000000000000008bbbbbbbbbbbbeeeeeeeeeeeeeeb8000000000000000000000000008888888888888888888888888888888888888888888888880000
0000000000000000000000888888888888bbbbbbbbbbbbeeeb000000000000000000000000008888888888888888888888888888888888888888888888880000
0000000000000000000000088888888888888888888888bbbbbb0000000000000000000000000888888888888888888888888888888888888888888888800000
000000000000000000000000888888888888888888888880000b0000000000000000000000000088888888888888888888888888888888888888888888000000
00000000000000000000000000888888888888888888800000000000000000000000000000000088888888888888888888888888888888888888888888000000
00000000000000000000000000008888888888888880000000000000000000000000000000000008888888888888888888888888888888888888888880000000
00000000000000000000000000000008888888880000000000000000000000000000000000000000888888888888888888888888888888888888888800000000
