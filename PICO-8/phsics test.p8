pico-8 cartridge // http://www.pico-8.com
version 18
__lua__
function _init()
    player={
        x=59,
        y=59,
        dx=0,
        dy=0,
        max_dx=4,
        max_dy=5,
        acc=0.75,
        boost=6,
    }

    gravity=0.2
    friction=0.95
end

function _update()
    player.dy+=gravity
    player.dx*=friction

    --controls
    if (btn(⬅️)) then player.dx-=player.acc end -- left
    if (btn(➡️)) then player.dx+=player.acc end -- right
    if (btnp(⬆️)) then player.dy-=player.boost end -- x

    --limit left/right speed
    player.dx=mid(-player.max_dx,player.dx,player.max_dx)
    --limit fall speed
    if (player.dy>0) then
        player.dy=mid(-player.max_dy,player.dy,player.max_dy)
    end

    --apply dx and dy to player position
    player.x+=player.dx
    player.y+=player.dy

    --simple ground collision
    if (player.y>110) then player.y=110 player.dy=0 end

    --if run off screen warp to other side
    if (player.x>128) then player.x=-8 end
    if (player.x<-8) then player.x=128 end
end

function _draw()
    cls()
    spr(1,player.x,player.y)

    --ground
    rectfill(0,118,127,127,13)

    --display info
    print("dx= "..player.dx)
    print("dy= "..player.dy)
end
__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000055555500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0070070005c77c500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000055995500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000057777500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700057777500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000557777500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000009009000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
